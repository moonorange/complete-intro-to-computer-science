{"componentChunkName":"component---src-templates-lesson-template-js","path":"/recursion","result":{"data":{"markdownRemark":{"html":"<p>What do you do if you have a large, difficult-to-solve problem? You break it down into multiple smaller problems and see if you can solve those. Are those problems still too big? Break those down into smaller problems, and so-on-and-so-forth until you arrive at a problem you can solve.</p>\n<p>Logically, this is similar to what we do with code some times. What if we need to sort a really big array? In some algorithms we'll break that really big array into two smaller arrays, and we'll break those arrays into two yet smaller lists until we have a list of one which is by-definition already sorted (we just described merge sort, we'll write that later in this course!)</p>\n<h2 id=\"the-mechanics\" style=\"position:relative;\"><a href=\"#the-mechanics\" aria-label=\"the mechanics permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The Mechanics</h2>\n<p>In English, a recursive definition is when you try to define a word using the words themselves. \"What is a seafarer?\" \"One who fares the seas.\" As you can see, this use of recursion isn't super useful. But let's see it in code.</p>\n<p>A recursive function is a function that calls itself</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">countTo</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">max<span class=\"token punctuation\">,</span> current<span class=\"token punctuation\">,</span> list</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>current <span class=\"token operator\">></span> max<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>current<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">countTo</span><span class=\"token punctuation\">(</span>max<span class=\"token punctuation\">,</span> current <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> counts <span class=\"token operator\">=</span> <span class=\"token function\">countTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Notice that we call <code class=\"language-text\">countTo</code> inside of <code class=\"language-text\">countTo</code>. This is recursion. However this one isn't super useful as I could have easily use a for loop. However I wanted to show you a very simple case of recursion. Let's then talk about a bit more about when to use a recursive function.</p>\n<h2 id=\"when-its-useful\" style=\"position:relative;\"><a href=\"#when-its-useful\" aria-label=\"when its useful permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>When it's useful</h2>\n<p>If you find yourself defining your problem into smaller versions of the same problem, it's a pretty good indication that recursion could be useful here.</p>\n<p>Have you ever heard of the <a href=\"https://en.wikipedia.org/wiki/Fibonacci_number\">fibonacci sequence</a>?</p>\n<p>A fibonacci number is a number that is defined as the sum of the previous two previous fibonacci numbers. So <code class=\"language-text\">fibonacci(3)</code> is equal to <code class=\"language-text\">fibonacci(2) + fibonacci(1)</code>. So the answer to <code class=\"language-text\">fibonacci(100)</code> is <code class=\"language-text\">fibonacci(99) + fibonacci(98)</code>.</p>\n<p>To generalize this, <code class=\"language-text\">fibonacci(n) = fibonacci(n - 1) + fibonacci(n - 2)</code>. This is a recursively defined problem.</p>\n<p>So let's tackle this one piece at a time. The first question we have to ask ourselves is <strong>what is the base case</strong>. The base case is when we stop recursing. If we don't have a base case, then our recursion will spiral out of control and we will get a <strong>stack overflow</strong> (hence the name of the helpful website) when we run out of memory. In our case, our base case is that we are given that <code class=\"language-text\">fibonacci(2) = 1</code>, <code class=\"language-text\">fibonacci(1) = 1</code>, and <code class=\"language-text\">fibonacci(0) = 0</code>. <em>Almost always</em> with recursion your base case will be the first line of your recursive function. You need a good reason for that not to be the case.</p>\n<blockquote>\n<p>There are negative fibonacci numbers. We're ignoring them.</p>\n</blockquote>\n<p>Okay, so let's write our function then.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">fibonacci</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">n</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// base case</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>n <span class=\"token operator\">===</span> <span class=\"token number\">2</span> <span class=\"token operator\">||</span> n <span class=\"token operator\">===</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>n <span class=\"token operator\">&lt;=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// recursive calls</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">fibonacci</span><span class=\"token punctuation\">(</span>n <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token function\">fibonacci</span><span class=\"token punctuation\">(</span>n <span class=\"token operator\">-</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>A little mind-melting, right? Let's break it down really quick.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/complete-intro-to-computer-science/static/dbc78a1a5ea8079ac4d813dfa9039700/72923/fibonacci.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAz0lEQVQoz42S2QqFMBBD+///6b7vuM7llDtSbR8MDNIhMYnWyB/Xdd1PHcWyLNK2rZ3jODyeqzXvhQvE67pK3/dSlqUURSHTNMm2bR5Xz8Z1A13XSZIkEkWRzPMs53k+xJgwVVVZTpqm1vSR0AUJSDQMw13vbaqfAR4BSKywCVlkWSZxHFsCwJUEeZ7LOI52t++71HVtedQHNEBLUgyMEjkwOCuorLU1JeakRxPaGU2m9TRB0zRe5dCN8H4KdXDQFLjo7i0M3Yjgtfni/PWlPw4TwsZiyFWkAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"diagram of calls in the fibonacci sequences on fibonacci(5). each one eventually breaks down into calling a fibonacci(2) or a fibonacci(1) call which returns 1\"\n        title=\"diagram of calls in the fibonacci sequences on fibonacci(5). each one eventually breaks down into calling a fibonacci(2) or a fibonacci(1) call which returns 1\"\n        src=\"/complete-intro-to-computer-science/static/dbc78a1a5ea8079ac4d813dfa9039700/5a190/fibonacci.png\"\n        srcset=\"/complete-intro-to-computer-science/static/dbc78a1a5ea8079ac4d813dfa9039700/772e8/fibonacci.png 200w,\n/complete-intro-to-computer-science/static/dbc78a1a5ea8079ac4d813dfa9039700/e17e5/fibonacci.png 400w,\n/complete-intro-to-computer-science/static/dbc78a1a5ea8079ac4d813dfa9039700/5a190/fibonacci.png 800w,\n/complete-intro-to-computer-science/static/dbc78a1a5ea8079ac4d813dfa9039700/c1b63/fibonacci.png 1200w,\n/complete-intro-to-computer-science/static/dbc78a1a5ea8079ac4d813dfa9039700/29007/fibonacci.png 1600w,\n/complete-intro-to-computer-science/static/dbc78a1a5ea8079ac4d813dfa9039700/72923/fibonacci.png 3114w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Let's break this down call-by-call. Since recursive functions will break down into further recursive calls, all of them eventually eventually end in a base case. In the <code class=\"language-text\">fibonacci(5)</code> call, you can see eventually all of them end up in n either equalling 2 or 1, our base case. So to get our final answer of 5 (which is the correct answer) we end up adding 1 to itself 5 times to get 5. That seems silly, right?</p>\n<p>So what if we call <code class=\"language-text\">fibonacci(30)</code>? The answer is 832040. You guessed it, we add 1 to itelf, 832040 times. What if we call <code class=\"language-text\">fibonacci(200)</code>? Chances are you'll get a stack overflow.</p>\n<p>Not very efficient here, but very elegant code. Here you'd need to trade off having readable code versus a relatively poor performance profile. If your use case says you'll only need to call no more than with n = 10, yeah, this is probably okay. If you need to call it with n = 200, you need to rewrite it to something different.</p>\n<p>Here's the iterative solution:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">fibonacci</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">n</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> sequence <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> n <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    sequence<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>sequence<span class=\"token punctuation\">[</span>i <span class=\"token operator\">-</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> sequence<span class=\"token punctuation\">[</span>i <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> sequence<span class=\"token punctuation\">[</span>n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Not terribly long, but it's definitely harder to get your mind around. Again, you'll need to balance your needs versus how readable the code is.</p>\n<h2 id=\"nested-addition-exercise\" style=\"position:relative;\"><a href=\"#nested-addition-exercise\" aria-label=\"nested addition exercise permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Nested Addition Exercise</h2>\n<p>Let's say I give an array. In this array there are two types of things: numbers and more arrays. In those arrays, they too are numbers and more arrays. An example could be <code class=\"language-text\">[1, 2, 3, 4, 5, [6, 7, 8], 9, [[10, 11], 13, [14]]]</code>. This would take all of these numbers, regardless of how nested they are, and add them together.</p>\n<p>The base case won't (probably) be the first thing in this exercise!</p>\n<blockquote>\n<p>🚨 NOTE: By default, I put <code class=\"language-text\">test.skip</code> on all the tests so you can write the code before you run the tests. Write the code first that you think will work, then remove the <code class=\"language-text\">.skip</code> part. If you write an infinite loop or a runaway recursive function, this can lock up the browser. It's a good idea to save your work (either to your own repo or just copy/paste it out of CodeSandbox) in case you do crash it.</p>\n</blockquote>\n<p>Go ahead and give it a shot here:</p>\n<p><a href=\"https://codesandbox.io/s/upbeat-leftpad-8kdjr?file=/specs/recursion/nested-arrays.test.js\"><img src=\"https://codesandbox.io/static/img/play-codesandbox.svg\" alt=\"Edit algorithms-exercises\"></a></p>\n<p>We're going to work on <a href=\"https://github.com/btholt/algorithms-exercises/blob/main/specs/recursion/nested-arrays.test.js\">/specs/recursion/nested-arrays.test.js</a>. Go give that a shot.</p>\n<h2 id=\"factorials-exercise\" style=\"position:relative;\"><a href=\"#factorials-exercise\" aria-label=\"factorials exercise permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Factorials Exercise</h2>\n<p>One more exercise for you, just to really hammer home recursion. Have you ever heard of factorials? It's a mathematical function that looks like this: <code class=\"language-text\">5!</code>. A factorial is <code class=\"language-text\">n * (n-1)!</code>. So <code class=\"language-text\">5! = 5 * 4!</code>. It really ends up being <code class=\"language-text\">5 * 4 * 3 * 2 * 1</code>. <code class=\"language-text\">1! = 1</code>.</p>\n<p>Go ahead and give this a try. It's fairly similar to the previous fibonacci problem but a little different.</p>\n<p><a href=\"https://codesandbox.io/s/upbeat-leftpad-8kdjr?file=/specs/recursion/recursion.test.js\"><img src=\"https://codesandbox.io/static/img/play-codesandbox.svg\" alt=\"Edit algorithms-exercises\"></a></p>\n<p>We're going to work on <a href=\"https://github.com/btholt/algorithms-exercises/blob/main/specs/recursion/factorials.test.js\">/specs/recursion/factorials.test.js</a>. Go give that a shot.</p>","frontmatter":{"path":"/recursion","title":"Recursion","order":"4A","section":"Recursive Sorts","description":"Brian defines recursion as something that recurses. In this section Brian teaches what recursion is and some places you might use it."}},"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"order":"7A","path":"/arraylist","title":"ArrayList"}}},{"node":{"frontmatter":{"order":"8B","path":"/avl-tree","title":"AVL Tree"}}},{"node":{"frontmatter":{"order":"2A","path":"/big-o","title":"Big O"}}},{"node":{"frontmatter":{"order":"8A","path":"/binary-search-tree","title":"Binary Search Tree"}}},{"node":{"frontmatter":{"order":"6A","path":"/binary-search","title":"Binary Search"}}},{"node":{"frontmatter":{"order":"10A","path":"/bloom-filters","title":"Bloom Filters"}}},{"node":{"frontmatter":{"order":"8D","path":"/breadth-first-tree-traversals","title":"Breadth-First Tree Traversals"}}},{"node":{"frontmatter":{"order":"3A","path":"/bubble-sort","title":"Bubble Sort"}}},{"node":{"frontmatter":{"order":"8C","path":"/depth-first-tree-traversals","title":"Depth-First Tree Traversals"}}},{"node":{"frontmatter":{"order":"1B","path":"/exercises","title":"The Exercises"}}},{"node":{"frontmatter":{"order":"9A","path":"/graphs","title":"Graphs"}}},{"node":{"frontmatter":{"order":"8E","path":"/heap-sort","title":"Heap Sort"}}},{"node":{"frontmatter":{"order":"3B","path":"/insertion-sort","title":"Insertion Sort"}}},{"node":{"frontmatter":{"order":"1A","path":"/intro","title":"Introduction"}}},{"node":{"frontmatter":{"order":"7B","path":"/linkedlist","title":"LinkedList"}}},{"node":{"frontmatter":{"order":"4B","path":"/merge-sort","title":"Merge Sort"}}},{"node":{"frontmatter":{"order":"9B","path":"/pathfinding","title":"Pathfinding"}}},{"node":{"frontmatter":{"order":"4C","path":"/quick-sort","title":"Quick Sort"}}},{"node":{"frontmatter":{"order":"5A","path":"/radix-sort","title":"Radix Sort"}}},{"node":{"frontmatter":{"order":"4A","path":"/recursion","title":"Recursion"}}},{"node":{"frontmatter":{"order":"2B","path":"/spatial-complexity","title":"Spatial Complexity"}}},{"node":{"frontmatter":{"order":"2C","path":"/trade-offs","title":"Trade Offs"}}},{"node":{"frontmatter":{"order":"9C","path":"/tries","title":"Tries"}}},{"node":{"frontmatter":{"order":"11A","path":"/wrap-up","title":"Wrap Up"}}}]}},"pageContext":{}},"staticQueryHashes":["2959687377"]}